{
  "version": 4,
  "terraform_version": "1.5.0",
  "serial": 3,
  "lineage": "5457c64e-1c5e-ae6d-2035-618ece6d7222",
  "outputs": {
    "ami_id": {
      "value": "ami-0dc46eeab9f70a79b",
      "type": "string"
    },
    "availability_zone": {
      "value": "ap-southeast-2c",
      "type": "string"
    },
    "create_security_group": {
      "value": true,
      "type": "bool"
    },
    "database_type_selected": {
      "value": "mariadb",
      "type": "string"
    },
    "existing_security_group_ids": {
      "value": [],
      "type": [
        "list",
        "string"
      ]
    },
    "instance_id": {
      "value": "i-0a303115728673750",
      "type": "string"
    },
    "instance_region": {
      "value": "ap-southeast-2",
      "type": "string"
    },
    "instance_state": {
      "value": "running",
      "type": "string"
    },
    "instance_tags": {
      "value": {
        "Name": "bimba.ec2instance"
      },
      "type": [
        "map",
        "string"
      ]
    },
    "instance_type": {
      "value": "t2.micro",
      "type": "string"
    },
    "key_name": {
      "value": "wordpress_server",
      "type": "string"
    },
    "mariadb_content_executed": {
      "value": "MariaDB Apache 2 server content not executed",
      "type": "string"
    },
    "mariadb_nginx_content_executed": {
      "value": "MariaDB Nginx content server executed",
      "type": "string"
    },
    "mysql_content_executed": {
      "value": "MySQL Apache2 server content not executed",
      "type": "string"
    },
    "private_ip": {
      "value": "172.31.16.17",
      "type": "string"
    },
    "public_dns": {
      "value": "ec2-13-236-69-92.ap-southeast-2.compute.amazonaws.com",
      "type": "string"
    },
    "public_ip": {
      "value": "13.236.69.92",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Asia Pacific (Sydney)",
            "endpoint": "ec2.ap-southeast-2.amazonaws.com",
            "id": "ap-southeast-2",
            "name": "ap-southeast-2"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_security_groups",
      "name": "existing_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arns": [],
            "filter": [
              {
                "name": "group-name",
                "values": [
                  "bimba_tap"
                ]
              }
            ],
            "id": "ap-southeast-2",
            "ids": [],
            "tags": null,
            "timeouts": null,
            "vpc_ids": []
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "mariadb_nginx_template_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#!/bin/bash\n\nsudo apt update -y\nsudo apt upgrade -y\nsudo apt install nginx mariadb-server php7.4-fpm php7.4-mysql -y\n\n# Secure MariaDB installation\nsudo mysql_secure_installation \u003c\u003cEOL\nn\ny\ny\ny\ny\nEOL\n\n# Create MySQL database and user for WordPress\nsudo mysql \u003c\u003cEOL\nCREATE DATABASE example_db;\nCREATE USER 'example_user'@'localhost' IDENTIFIED BY 'example_pw';\nGRANT ALL PRIVILEGES ON example_db.* TO 'example_user'@'localhost';\nFLUSH PRIVILEGES;\nEOL\n\ncd /var/www/html\nsudo wget -q https://wordpress.org/latest.tar.gz\nsudo tar -xzf latest.tar.gz\nsudo chown -R www-data:www-data wordpress\nsudo chmod -R 755 wordpress\nsudo rm latest.tar.gz\n\n# Configure WordPress\nsudo cp wordpress/wp-config-sample.php wordpress/wp-config.php\nsudo sed -i \"s/database_name_here/example_db/g\" wordpress/wp-config.php\nsudo sed -i \"s/username_here/example_user/g\" wordpress/wp-config.php\nsudo sed -i \"s/password_here/example_pw/g\" wordpress/wp-config.php\n\n# Create Nginx configuration file for example.com\nsudo tee /etc/nginx/sites-available/example.conf \u003c\u003cEOL\nserver {\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    root /var/www/html/wordpress;\n    index index.php index.html index.htm;\n\n    server_name _;\n\n    location / {\n        try_files \\$uri \\$uri/ /index.php?\\$args;\n    }\n\n    location ~ \\.php$ {\n        include snippets/fastcgi-php.conf;\n        fastcgi_pass unix:/run/php/php7.4-fpm.sock;\n        fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n        include fastcgi_params;\n    }\n\n    location ~ /\\.ht {\n        deny all;\n    }\n}\nEOL\n\n# Remove the default Nginx configuration\nsudo rm /etc/nginx/sites-enabled/default\n\n# Enable the Nginx configuration file\nsudo ln -s /etc/nginx/sites-available/example.conf /etc/nginx/sites-enabled/\n\n# Test Nginx configuration and restart Nginx\nsudo nginx -t \u0026\u0026 sudo systemctl restart nginx\n\n# # Display the content of cloud-init-output.log and follow it in real-time\n# tail -f /var/log/cloud-init-output.log\n",
            "content_base64": "IyEvYmluL2Jhc2gKCnN1ZG8gYXB0IHVwZGF0ZSAteQpzdWRvIGFwdCB1cGdyYWRlIC15CnN1ZG8gYXB0IGluc3RhbGwgbmdpbnggbWFyaWFkYi1zZXJ2ZXIgcGhwNy40LWZwbSBwaHA3LjQtbXlzcWwgLXkKCiMgU2VjdXJlIE1hcmlhREIgaW5zdGFsbGF0aW9uCnN1ZG8gbXlzcWxfc2VjdXJlX2luc3RhbGxhdGlvbiA8PEVPTApuCnkKeQp5CnkKRU9MCgojIENyZWF0ZSBNeVNRTCBkYXRhYmFzZSBhbmQgdXNlciBmb3IgV29yZFByZXNzCnN1ZG8gbXlzcWwgPDxFT0wKQ1JFQVRFIERBVEFCQVNFIGV4YW1wbGVfZGI7CkNSRUFURSBVU0VSICdleGFtcGxlX3VzZXInQCdsb2NhbGhvc3QnIElERU5USUZJRUQgQlkgJ2V4YW1wbGVfcHcnOwpHUkFOVCBBTEwgUFJJVklMRUdFUyBPTiBleGFtcGxlX2RiLiogVE8gJ2V4YW1wbGVfdXNlcidAJ2xvY2FsaG9zdCc7CkZMVVNIIFBSSVZJTEVHRVM7CkVPTAoKY2QgL3Zhci93d3cvaHRtbApzdWRvIHdnZXQgLXEgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2xhdGVzdC50YXIuZ3oKc3VkbyB0YXIgLXh6ZiBsYXRlc3QudGFyLmd6CnN1ZG8gY2hvd24gLVIgd3d3LWRhdGE6d3d3LWRhdGEgd29yZHByZXNzCnN1ZG8gY2htb2QgLVIgNzU1IHdvcmRwcmVzcwpzdWRvIHJtIGxhdGVzdC50YXIuZ3oKCiMgQ29uZmlndXJlIFdvcmRQcmVzcwpzdWRvIGNwIHdvcmRwcmVzcy93cC1jb25maWctc2FtcGxlLnBocCB3b3JkcHJlc3Mvd3AtY29uZmlnLnBocApzdWRvIHNlZCAtaSAicy9kYXRhYmFzZV9uYW1lX2hlcmUvZXhhbXBsZV9kYi9nIiB3b3JkcHJlc3Mvd3AtY29uZmlnLnBocApzdWRvIHNlZCAtaSAicy91c2VybmFtZV9oZXJlL2V4YW1wbGVfdXNlci9nIiB3b3JkcHJlc3Mvd3AtY29uZmlnLnBocApzdWRvIHNlZCAtaSAicy9wYXNzd29yZF9oZXJlL2V4YW1wbGVfcHcvZyIgd29yZHByZXNzL3dwLWNvbmZpZy5waHAKCiMgQ3JlYXRlIE5naW54IGNvbmZpZ3VyYXRpb24gZmlsZSBmb3IgZXhhbXBsZS5jb20Kc3VkbyB0ZWUgL2V0Yy9uZ2lueC9zaXRlcy1hdmFpbGFibGUvZXhhbXBsZS5jb25mIDw8RU9MCnNlcnZlciB7CiAgICBsaXN0ZW4gODAgZGVmYXVsdF9zZXJ2ZXI7CiAgICBsaXN0ZW4gWzo6XTo4MCBkZWZhdWx0X3NlcnZlcjsKCiAgICByb290IC92YXIvd3d3L2h0bWwvd29yZHByZXNzOwogICAgaW5kZXggaW5kZXgucGhwIGluZGV4Lmh0bWwgaW5kZXguaHRtOwoKICAgIHNlcnZlcl9uYW1lIF87CgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgdHJ5X2ZpbGVzIFwkdXJpIFwkdXJpLyAvaW5kZXgucGhwP1wkYXJnczsKICAgIH0KCiAgICBsb2NhdGlvbiB+IFwucGhwJCB7CiAgICAgICAgaW5jbHVkZSBzbmlwcGV0cy9mYXN0Y2dpLXBocC5jb25mOwogICAgICAgIGZhc3RjZ2lfcGFzcyB1bml4Oi9ydW4vcGhwL3BocDcuNC1mcG0uc29jazsKICAgICAgICBmYXN0Y2dpX3BhcmFtIFNDUklQVF9GSUxFTkFNRSBcJGRvY3VtZW50X3Jvb3RcJGZhc3RjZ2lfc2NyaXB0X25hbWU7CiAgICAgICAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKICAgIH0KCiAgICBsb2NhdGlvbiB+IC9cLmh0IHsKICAgICAgICBkZW55IGFsbDsKICAgIH0KfQpFT0wKCiMgUmVtb3ZlIHRoZSBkZWZhdWx0IE5naW54IGNvbmZpZ3VyYXRpb24Kc3VkbyBybSAvZXRjL25naW54L3NpdGVzLWVuYWJsZWQvZGVmYXVsdAoKIyBFbmFibGUgdGhlIE5naW54IGNvbmZpZ3VyYXRpb24gZmlsZQpzdWRvIGxuIC1zIC9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlL2V4YW1wbGUuY29uZiAvZXRjL25naW54L3NpdGVzLWVuYWJsZWQvCgojIFRlc3QgTmdpbnggY29uZmlndXJhdGlvbiBhbmQgcmVzdGFydCBOZ2lueApzdWRvIG5naW54IC10ICYmIHN1ZG8gc3lzdGVtY3RsIHJlc3RhcnQgbmdpbngKCiMgIyBEaXNwbGF5IHRoZSBjb250ZW50IG9mIGNsb3VkLWluaXQtb3V0cHV0LmxvZyBhbmQgZm9sbG93IGl0IGluIHJlYWwtdGltZQojIHRhaWwgLWYgL3Zhci9sb2cvY2xvdWQtaW5pdC1vdXRwdXQubG9nCg==",
            "content_base64sha256": "RxYNyqL1oGnpvKgoxAyXNvskU8cVIfjQvXA2AnwMkHA=",
            "content_base64sha512": "PP7FQLyQrScOXHR9Zh1LJdPNSpX0sXG4YThrK6kUmaqDZm+n4PlFIweyWy1L55gueY6DvxjlCsvGHyf/RDrHTg==",
            "content_md5": "45583e621d2320243c73450bc87a358f",
            "content_sha1": "139c17793897747288841132b58257c85a336d73",
            "content_sha256": "47160dcaa2f5a069e9bca828c40c9736fb2453c71521f8d0bd7036027c0c9070",
            "content_sha512": "3cfec540bc90ad270e5c747d661d4b25d3cd4a95f4b171b861386b2ba91499aa83666fa7e0f9452307b25b2d4be7982e798e83bf18e50acbc61f27ff443ac74e",
            "filename": "./ubuntu_user_data/mariadb_php_nginx.sh",
            "id": "139c17793897747288841132b58257c85a336d73"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "mariadb_template_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#!/bin/bash\n\n# Log message indicating script execution\necho \"MariaDB, PHP, and Apache2 installation script executed.\"\n\n# Update and upgrade packages\nsudo apt update \u0026\u0026 sudo apt upgrade -y\n\n# Install Apache2\nsudo apt install -y apache2\nsudo systemctl status apache2\n\n# Install MariaDB\nsudo apt install -y mariadb-server mariadb-client\n\n# Secure MariaDB installation\necho \"y\" | sudo mysql_secure_installation \u003c\u003cEOL\nenter\nn\nY\nY\nY\nY\nEOL\n\n# Install PHP and PHP MySQL extension\nsudo apt install -y php php-mysql\n\n# Create info.php file\necho '\u003c?php phpinfo(); ?\u003e' | sudo tee /var/www/html/info.php\n\n# Create MySQL database and user for WordPress\nsudo mysql -u root -p -e \"CREATE DATABASE wordpress_db;\"\nsudo mysql -u root -p -e \"CREATE USER 'wp_user'@'localhost' IDENTIFIED BY 'password';\"\nsudo mysql -u root -p -e \"GRANT ALL ON wordpress_db.* TO 'wp_user'@'localhost' IDENTIFIED BY 'password';\"\nsudo mysql -u root -p -e \"FLUSH PRIVILEGES;\"\nsudo mysql -u root -p -e \"Exit;\"\n\n# Download and install WordPress\ncd /tmp \u0026\u0026 sudo wget https://wordpress.org/latest.tar.gz\nsudo tar -xvf latest.tar.gz\nsudo cp -R wordpress/* /var/www/html/\nsudo chown -R www-data:www-data /var/www/html/wordpress/\nsudo chmod -R 755 /var/www/html/wordpress/\nsudo mkdir /var/www/html/wordpress/wp-content/uploads\nsudo chown -R www-data:www-data /var/www/html/wordpress/wp-content/uploads/\n\nsudo rm /var/www/html/index.html\n\n# Restart Apache2 service\nsudo systemctl restart apache2\n\necho \"Wordpress installation script has completed. \"\n\n# Output a message indicating the script has completed\necho \"MariaDB Apache2 script execution completed.\"",
            "content_base64": "IyEvYmluL2Jhc2gKCiMgTG9nIG1lc3NhZ2UgaW5kaWNhdGluZyBzY3JpcHQgZXhlY3V0aW9uCmVjaG8gIk1hcmlhREIsIFBIUCwgYW5kIEFwYWNoZTIgaW5zdGFsbGF0aW9uIHNjcmlwdCBleGVjdXRlZC4iCgojIFVwZGF0ZSBhbmQgdXBncmFkZSBwYWNrYWdlcwpzdWRvIGFwdCB1cGRhdGUgJiYgc3VkbyBhcHQgdXBncmFkZSAteQoKIyBJbnN0YWxsIEFwYWNoZTIKc3VkbyBhcHQgaW5zdGFsbCAteSBhcGFjaGUyCnN1ZG8gc3lzdGVtY3RsIHN0YXR1cyBhcGFjaGUyCgojIEluc3RhbGwgTWFyaWFEQgpzdWRvIGFwdCBpbnN0YWxsIC15IG1hcmlhZGItc2VydmVyIG1hcmlhZGItY2xpZW50CgojIFNlY3VyZSBNYXJpYURCIGluc3RhbGxhdGlvbgplY2hvICJ5IiB8IHN1ZG8gbXlzcWxfc2VjdXJlX2luc3RhbGxhdGlvbiA8PEVPTAplbnRlcgpuClkKWQpZClkKRU9MCgojIEluc3RhbGwgUEhQIGFuZCBQSFAgTXlTUUwgZXh0ZW5zaW9uCnN1ZG8gYXB0IGluc3RhbGwgLXkgcGhwIHBocC1teXNxbAoKIyBDcmVhdGUgaW5mby5waHAgZmlsZQplY2hvICc8P3BocCBwaHBpbmZvKCk7ID8+JyB8IHN1ZG8gdGVlIC92YXIvd3d3L2h0bWwvaW5mby5waHAKCiMgQ3JlYXRlIE15U1FMIGRhdGFiYXNlIGFuZCB1c2VyIGZvciBXb3JkUHJlc3MKc3VkbyBteXNxbCAtdSByb290IC1wIC1lICJDUkVBVEUgREFUQUJBU0Ugd29yZHByZXNzX2RiOyIKc3VkbyBteXNxbCAtdSByb290IC1wIC1lICJDUkVBVEUgVVNFUiAnd3BfdXNlcidAJ2xvY2FsaG9zdCcgSURFTlRJRklFRCBCWSAncGFzc3dvcmQnOyIKc3VkbyBteXNxbCAtdSByb290IC1wIC1lICJHUkFOVCBBTEwgT04gd29yZHByZXNzX2RiLiogVE8gJ3dwX3VzZXInQCdsb2NhbGhvc3QnIElERU5USUZJRUQgQlkgJ3Bhc3N3b3JkJzsiCnN1ZG8gbXlzcWwgLXUgcm9vdCAtcCAtZSAiRkxVU0ggUFJJVklMRUdFUzsiCnN1ZG8gbXlzcWwgLXUgcm9vdCAtcCAtZSAiRXhpdDsiCgojIERvd25sb2FkIGFuZCBpbnN0YWxsIFdvcmRQcmVzcwpjZCAvdG1wICYmIHN1ZG8gd2dldCBodHRwczovL3dvcmRwcmVzcy5vcmcvbGF0ZXN0LnRhci5negpzdWRvIHRhciAteHZmIGxhdGVzdC50YXIuZ3oKc3VkbyBjcCAtUiB3b3JkcHJlc3MvKiAvdmFyL3d3dy9odG1sLwpzdWRvIGNob3duIC1SIHd3dy1kYXRhOnd3dy1kYXRhIC92YXIvd3d3L2h0bWwvd29yZHByZXNzLwpzdWRvIGNobW9kIC1SIDc1NSAvdmFyL3d3dy9odG1sL3dvcmRwcmVzcy8Kc3VkbyBta2RpciAvdmFyL3d3dy9odG1sL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMKc3VkbyBjaG93biAtUiB3d3ctZGF0YTp3d3ctZGF0YSAvdmFyL3d3dy9odG1sL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvCgpzdWRvIHJtIC92YXIvd3d3L2h0bWwvaW5kZXguaHRtbAoKIyBSZXN0YXJ0IEFwYWNoZTIgc2VydmljZQpzdWRvIHN5c3RlbWN0bCByZXN0YXJ0IGFwYWNoZTIKCmVjaG8gIldvcmRwcmVzcyBpbnN0YWxsYXRpb24gc2NyaXB0IGhhcyBjb21wbGV0ZWQuICIKCiMgT3V0cHV0IGEgbWVzc2FnZSBpbmRpY2F0aW5nIHRoZSBzY3JpcHQgaGFzIGNvbXBsZXRlZAplY2hvICJNYXJpYURCIEFwYWNoZTIgc2NyaXB0IGV4ZWN1dGlvbiBjb21wbGV0ZWQuIg==",
            "content_base64sha256": "v7fzPvjcLsZkRAVhSILeF68lCrsliRs+g9Y3xuWeeEQ=",
            "content_base64sha512": "SgALDkkP1pLPdqXUMwVltznvE0/8y0kBFqgQaDkGbVe1Nhr/xA8cOOBHzb9Mx0fngOlWhX0ly5Gh671/RKcm/A==",
            "content_md5": "7e6896962e52545ca2d4734f07219472",
            "content_sha1": "a903543a1333d589bed679c0dc200613060f0078",
            "content_sha256": "bfb7f33ef8dc2ec6644405614882de17af250abb25891b3e83d637c6e59e7844",
            "content_sha512": "4a000b0e490fd692cf76a5d4330565b739ef134ffccb490116a8106839066d57b5361affc40f1c38e047cdbf4cc747e780e956857d25cb91a1ebbd7f44a726fc",
            "filename": "./ubuntu_user_data/mariadb_php_apache2.sh",
            "id": "a903543a1333d589bed679c0dc200613060f0078"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "mysql_template_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": " #!/bin/bash\n# Log message indicating script execution\necho \"MySQL, PHP, and Apache2 installation script executed.\"\n\n# Update package lists\nsudo apt-get update\n\n# Install Apache2, MySQL, PHP, and other necessary packages\nsudo apt-get install -y apache2 mysql-server php libapache2-mod-php php-mysql\n\n# Enable Apache2 and MySQL services\nsudo systemctl enable apache2\nsudo systemctl enable mysql\n\n# Start Apache2 and MySQL services\nsudo systemctl start apache2\nsudo systemctl start mysql\n\n# Set up MySQL database and user for WordPress\nsudo mysql -u root -e \"CREATE DATABASE wordpress;\"\nsudo mysql -u root -e \"CREATE USER 'wpadmin'@'localhost' IDENTIFIED BY 'wpadminpass';\"\nsudo mysql -u root -e \"GRANT ALL PRIVILEGES ON wordpress.* TO 'wpadmin'@'localhost';\"\nsudo mysql -u root -e \"FLUSH PRIVILEGES;\"\n\n# Install WordPress\ncd /var/www/html\nsudo wget https://wordpress.org/latest.tar.gz\nsudo tar -xzf latest.tar.gz --strip-components=1\nsudo rm -f latest.tar.gz\nsudo chown -R www-data:www-data /var/www/html\nsudo cp wp-config-sample.php wp-config.php\nsudo sed -i \"s/database_name_here/wordpress/\" wp-config.php\nsudo sed -i \"s/username_here/wpadmin/\" wp-config.php\nsudo sed -i \"s/password_here/wpadminpass/\" wp-config.php\nsudo rm /var/www/html/index.html\nsudo systemctl restart apache2\n\n\necho \"Wordpress installation script has completed. \"\n\n# Output a message indicating the script has completed\necho \"MySQL script execution completed.\"",
            "content_base64": "ICMhL2Jpbi9iYXNoCiMgTG9nIG1lc3NhZ2UgaW5kaWNhdGluZyBzY3JpcHQgZXhlY3V0aW9uCmVjaG8gIk15U1FMLCBQSFAsIGFuZCBBcGFjaGUyIGluc3RhbGxhdGlvbiBzY3JpcHQgZXhlY3V0ZWQuIgoKIyBVcGRhdGUgcGFja2FnZSBsaXN0cwpzdWRvIGFwdC1nZXQgdXBkYXRlCgojIEluc3RhbGwgQXBhY2hlMiwgTXlTUUwsIFBIUCwgYW5kIG90aGVyIG5lY2Vzc2FyeSBwYWNrYWdlcwpzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSBhcGFjaGUyIG15c3FsLXNlcnZlciBwaHAgbGliYXBhY2hlMi1tb2QtcGhwIHBocC1teXNxbAoKIyBFbmFibGUgQXBhY2hlMiBhbmQgTXlTUUwgc2VydmljZXMKc3VkbyBzeXN0ZW1jdGwgZW5hYmxlIGFwYWNoZTIKc3VkbyBzeXN0ZW1jdGwgZW5hYmxlIG15c3FsCgojIFN0YXJ0IEFwYWNoZTIgYW5kIE15U1FMIHNlcnZpY2VzCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IGFwYWNoZTIKc3VkbyBzeXN0ZW1jdGwgc3RhcnQgbXlzcWwKCiMgU2V0IHVwIE15U1FMIGRhdGFiYXNlIGFuZCB1c2VyIGZvciBXb3JkUHJlc3MKc3VkbyBteXNxbCAtdSByb290IC1lICJDUkVBVEUgREFUQUJBU0Ugd29yZHByZXNzOyIKc3VkbyBteXNxbCAtdSByb290IC1lICJDUkVBVEUgVVNFUiAnd3BhZG1pbidAJ2xvY2FsaG9zdCcgSURFTlRJRklFRCBCWSAnd3BhZG1pbnBhc3MnOyIKc3VkbyBteXNxbCAtdSByb290IC1lICJHUkFOVCBBTEwgUFJJVklMRUdFUyBPTiB3b3JkcHJlc3MuKiBUTyAnd3BhZG1pbidAJ2xvY2FsaG9zdCc7IgpzdWRvIG15c3FsIC11IHJvb3QgLWUgIkZMVVNIIFBSSVZJTEVHRVM7IgoKIyBJbnN0YWxsIFdvcmRQcmVzcwpjZCAvdmFyL3d3dy9odG1sCnN1ZG8gd2dldCBodHRwczovL3dvcmRwcmVzcy5vcmcvbGF0ZXN0LnRhci5negpzdWRvIHRhciAteHpmIGxhdGVzdC50YXIuZ3ogLS1zdHJpcC1jb21wb25lbnRzPTEKc3VkbyBybSAtZiBsYXRlc3QudGFyLmd6CnN1ZG8gY2hvd24gLVIgd3d3LWRhdGE6d3d3LWRhdGEgL3Zhci93d3cvaHRtbApzdWRvIGNwIHdwLWNvbmZpZy1zYW1wbGUucGhwIHdwLWNvbmZpZy5waHAKc3VkbyBzZWQgLWkgInMvZGF0YWJhc2VfbmFtZV9oZXJlL3dvcmRwcmVzcy8iIHdwLWNvbmZpZy5waHAKc3VkbyBzZWQgLWkgInMvdXNlcm5hbWVfaGVyZS93cGFkbWluLyIgd3AtY29uZmlnLnBocApzdWRvIHNlZCAtaSAicy9wYXNzd29yZF9oZXJlL3dwYWRtaW5wYXNzLyIgd3AtY29uZmlnLnBocApzdWRvIHJtIC92YXIvd3d3L2h0bWwvaW5kZXguaHRtbApzdWRvIHN5c3RlbWN0bCByZXN0YXJ0IGFwYWNoZTIKCgplY2hvICJXb3JkcHJlc3MgaW5zdGFsbGF0aW9uIHNjcmlwdCBoYXMgY29tcGxldGVkLiAiCgojIE91dHB1dCBhIG1lc3NhZ2UgaW5kaWNhdGluZyB0aGUgc2NyaXB0IGhhcyBjb21wbGV0ZWQKZWNobyAiTXlTUUwgc2NyaXB0IGV4ZWN1dGlvbiBjb21wbGV0ZWQuIg==",
            "content_base64sha256": "i3TKLjm5Ywy7OzgeyvwqWDwrMUJT986HV/wx5qOUJ1Q=",
            "content_base64sha512": "jPPZspAi+OkhbEuV2BxqMpwQh5OQyrSU5EcRsS2dmLgP1T7gE8XxiYUG2DEmN0Hoy01PcTVeNK1VXhFpadK+IQ==",
            "content_md5": "a0e89efdef651e17b1cb1430bf9d1660",
            "content_sha1": "3399dcc53bc2c0d1d1ff860c786ec1219ef5f3db",
            "content_sha256": "8b74ca2e39b9630cbb3b381ecafc2a583c2b314253f7ce8757fc31e6a3942754",
            "content_sha512": "8cf3d9b29022f8e9216c4b95d81c6a329c10879390cab494e44711b12d9d98b80fd53ee013c5f1898506d831263741e8cb4d4f71355e34ad555e116969d2be21",
            "filename": "./ubuntu_user_data/mysql_php_apache2.sh",
            "id": "3399dcc53bc2c0d1d1ff860c786ec1219ef5f3db"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "EC2-create-from-button",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0dc46eeab9f70a79b",
            "arn": "arn:aws:ec2:ap-southeast-2:535727047961:instance/i-0a303115728673750",
            "associate_public_ip_address": true,
            "availability_zone": "ap-southeast-2c",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 1,
                "threads_per_core": 1
              }
            ],
            "cpu_threads_per_core": 1,
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sdf",
                "encrypted": true,
                "iops": 100,
                "kms_key_id": "arn:aws:kms:ap-southeast-2:535727047961:key/1a840c1c-78a5-409a-941f-2d59583af490",
                "snapshot_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0cc60123bfaaf4a40",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0a303115728673750",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "t2.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "wordpress_server",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": 0,
            "primary_network_interface_id": "eni-06e68fa5b51506a13",
            "private_dns": "ip-172-31-16-17.ap-southeast-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "172.31.16.17",
            "public_dns": "ec2-13-236-69-92.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "13.236.69.92",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 3000,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-092f166e2497e7d6f",
                "volume_size": 8,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [
              "bimba_tap"
            ],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-051ef05336899c829",
            "tags": {
              "Name": "bimba.ec2instance"
            },
            "tags_all": {
              "Name": "bimba.ec2instance"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "1221b789a3e6a449ccf2e37d9501eb7a31527317",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-00b1ec2bed91fe9d2"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_security_group.sg_name",
            "data.local_file.mariadb_nginx_template_file",
            "data.local_file.mariadb_template_file",
            "data.local_file.mysql_template_file"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "sg_name",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:535727047961:security-group/sg-00b1ec2bed91fe9d2",
            "description": "wordpress app allows HTTP, and allow ssh",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-00b1ec2bed91fe9d2",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "bimba_tap",
            "name_prefix": "",
            "owner_id": "535727047961",
            "revoke_rules_on_delete": false,
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0fa850c86604a6910"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    }
  ],
  "check_results": null
}
